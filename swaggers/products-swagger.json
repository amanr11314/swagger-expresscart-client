{"openapi":"3.1.0","info":{"version":"1.0.0","title":"Expresscart","description":"Expresscart API"},"servers":[{"url":"http://localhost:3000","description":"Local Development Server"}],"components":{"schemas":{"UnauthorizedError":{"type":"object","properties":{"statusCode":{"type":"integer","example":401},"error":{"type":"string","example":"Unauthorized"},"message":{"type":"string","example":"Missing or invalid token"}}},"Error":{"type":"object","properties":{"message":{"type":"string"},"internal_code":{"type":"string"}}},"SuccessNoContent":{"type":"object","properties":{"msg":{"type":"string"}}},"id":{"type":"string","description":"An id of a Model","example":"58"},"Product":{"type":"object","properties":{"id":{"type":"string","example":"58"},"title":{"type":"string","example":"Oppo reno 5g"},"description":{"type":"string","example":"gfbghnfh"},"price":{"type":"number","example":223},"imgUrl":{"type":"string","example":"file-1689778131181.png"},"createdAt":{"type":"string","format":"date-time","example":"2023-07-19T14:48:51.198Z"},"updatedAt":{"type":"string","format":"date-time","example":"2023-07-19T14:48:51.198Z"},"UserId":{"type":"string","nullable":true,"example":null},"User":{"type":"object","nullable":true}}},"ProductList":{"type":"array","items":{"$ref":"#/components/schemas/Product"},"title":"Productlist array<Product>"}},"securitySchemes":{"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"JWT authorization header using the Bearer scheme. Enter access token."}}},"tags":[{"name":"Product CRUD operations"},{"name":"Cart CRUD opeartions"},{"name":"User Authentication"}],"paths":{"/product/all":{"get":{"tags":["Product CRUD operations"],"description":"Get all products","operationId":"getProducts","parameters":[{"name":"search","in":"query","description":"Filter products by search query (optional)","required":false,"schema":{"type":"string"}},{"name":"col","in":"query","description":"Sort column (optional)","required":false,"schema":{"type":"string"}},{"name":"order","in":"query","description":"Sort order (optional)","required":false,"schema":{"type":"string","enum":["asc","desc"]}}],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"Products fetched","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductList"}}}},"204":{"description":"Products fetched list empty","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessNoContent"}}}},"401":{"description":"Unauthorized. Missing or invalid token.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedError"}}}},"500":{"description":"Internal Server Error. An error occurred while processing the request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/product/details/{id}":{"get":{"tags":["Product CRUD operations"],"description":"Get a Product details by id","operationId":"getProduct","parameters":[{"name":"id","in":"path","schema":{"$ref":"#/components/schemas/id"},"required":true,"description":"A single product id"}],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"Product is obtained","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Product"}}}},"400":{"description":"Bad Request. ID parameter is missing or invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized. Missing or invalid token.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedError"}}}},"404":{"description":"Product not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error","example":{"message":"","internal_code":"Invalid id"}}}}},"500":{"description":"Internal Server Error. An error occurred while processing the request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/product/create":{"post":{"tags":["Product CRUD operations"],"description":"Create a new product","operationId":"createProduct","parameters":[],"security":[{"BearerAuth":[]}],"requestBody":{"description":"Product data to create","required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"file":{"type":"string","format":"binary"}},"required":["title","description","price"],"example":{"title":"Sample Product","description":"This is a sample product","price":99.99}}},"multipart/form-data":{"schema":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"file":{"type":"string","format":"binary"}},"required":["title","description","price"],"example":{"title":"Sample Product","description":"This is a sample product","price":99.99}}}}},"responses":{"200":{"description":"Product Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Product"}}}},"401":{"description":"Unauthorized. Missing or invalid token.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedError"}}}},"500":{"description":"Internal Server Error. An error occurred while processing the request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/product/edit":{"post":{"tags":["Product CRUD operations"],"description":"Edit a product","operationId":"editProduct","parameters":[],"security":[{"BearerAuth":[]}],"requestBody":{"description":"Product data to edit","required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"file":{"type":"string","format":"binary"}},"required":["id"],"oneOf":[{"required":["title"]},{"required":["description"]},{"required":["price"]}],"example":{"id":58,"title":"Sample Product","description":"This is a sample product","price":99.99}}},"multipart/form-data":{"schema":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"file":{"type":"string","format":"binary"}},"required":["id"],"oneOf":[{"required":["title"]},{"required":["description"]},{"required":["price"]}],"example":{"id":58,"title":"Sample Product","description":"This is a sample product","price":99.99}}}}},"responses":{"204":{"description":"Product Updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessNoContent","example":{"msg":"Product updated successfully"}}}}},"400":{"description":"Bad Request. ID parameter is missing or invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized. Missing or invalid token.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedError"}}}},"404":{"description":"Product not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error","example":{"message":"","internal_code":"Invalid id"}}}}},"500":{"description":"Internal Server Error. An error occurred while processing the request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/product/delete":{"post":{"tags":["Product CRUD operations"],"description":"Delete a product","operationId":"deleteProduct","parameters":[],"security":[{"BearerAuth":[]}],"requestBody":{"description":"Product id to delete the Product","required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"],"example":{"id":58}}}}},"responses":{"204":{"description":"Product Deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessNoContent","example":{"msg":"Product updated successfully"}}}}},"400":{"description":"Bad Request. ID parameter is missing or invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized. Missing or invalid token.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedError"}}}},"404":{"description":"Product not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error","example":{"message":"","internal_code":"Invalid id"}}}}},"500":{"description":"Internal Server Error. An error occurred while processing the request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}}}